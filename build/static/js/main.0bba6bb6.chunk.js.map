{"version":3,"sources":["components/Filter.js","services/contacts.js","components/Contact.js","components/PhoneList.js","components/Form.js","components/Notification.js","App.js","index.js"],"names":["Filter","props","filter","setFilter","value","onChange","event","target","baseURL","axios","get","then","response","data","contact","post","put","id","console","log","delete","Contact","persons","setPersons","handleClick","a","window","confirm","name","contactService","person","number","onClick","PhoneList","toLowerCase","indexOf","map","key","Form","setNotification","useState","newName","setNewName","newNumber","setNewNumber","type","preventDefault","find","newContact","message","catch","error","concat","Notification","notification","useEffect","setTimeout","className","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0bba6bb6.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nconst Filter = (props) => {\r\n  const { filter, setFilter } = props\r\n\r\n  const handleFilterChange = (event) => {\r\n    setFilter(event.target.value)\r\n  }\r\n  return (\r\n    <div>\r\n      filter show with <input value={filter} onChange={handleFilterChange} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter\r\n","import axios from \"axios\"\r\n\r\nconst baseURL = \"/api/persons\"\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseURL).then((response) => response.data)\r\n}\r\n\r\nconst createContact = (contact) => {\r\n  return axios.post(baseURL, contact).then((response) => response.data)\r\n}\r\n\r\nconst updateContact = (contact) => {\r\n  return axios\r\n    .put(`${baseURL}/${contact.id}`, contact)\r\n    .then((response) => response.data)\r\n}\r\n\r\nconst deleteContact = (contact) => {\r\n  console.log(contact)\r\n  return axios.delete(`${baseURL}/${contact.id}`)\r\n}\r\n\r\nexport default { getAll, createContact, updateContact, deleteContact }\r\n","import React from \"react\"\r\nimport contactService from \"../services/contacts.js\"\r\n\r\nconst Contact = ({ contact, persons, setPersons }) => {\r\n  const handleClick = async () => {\r\n    let confirmation = window.confirm(`Delete ${contact.name}`)\r\n\r\n    if (confirmation) {\r\n      await contactService.deleteContact(contact)\r\n      setPersons(persons.filter((person) => person.id !== contact.id))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <li>\r\n      {contact.name} {contact.number}{\" \"}\r\n      <button onClick={handleClick}>Delete</button>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Contact\r\n","import React from \"react\"\r\nimport Contact from \"./Contact.js\"\r\n\r\nconst PhoneList = (props) => {\r\n  const { filter, persons, setPersons } = props\r\n\r\n  let personsList\r\n  if (filter) {\r\n    personsList = persons.filter(\r\n      (person) => person.name.toLowerCase().indexOf(filter.toLowerCase()) > -1\r\n    )\r\n  } else {\r\n    personsList = [...persons]\r\n  }\r\n\r\n  return personsList.map((person) => (\r\n    <Contact\r\n      key={person.name}\r\n      contact={person}\r\n      persons={persons}\r\n      setPersons={setPersons}\r\n    />\r\n  ))\r\n}\r\n\r\nexport default PhoneList\r\n","import React, { useState } from \"react\"\r\nimport contactService from \"../services/contacts.js\"\r\n\r\nconst Form = (props) => {\r\n  const { setPersons, persons, setNotification } = props\r\n\r\n  const [newName, setNewName] = useState(\"\")\r\n  const [newNumber, setNewNumber] = useState(\"\")\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleClick = (event) => {\r\n    event.preventDefault()\r\n    let contact\r\n    if ((contact = persons.find((person) => person.name === newName))) {\r\n      let confirmation = window.confirm(\r\n        `${newName} is already added to the phonebook, replace old number with new one?`\r\n      )\r\n\r\n      if (!confirmation) return\r\n\r\n      contactService\r\n        .updateContact({ ...contact, number: newNumber })\r\n        .then((newContact) => {\r\n          setNewName(\"\")\r\n          setNewNumber(\"\")\r\n          setNotification({ type: 0, message: newContact.name })\r\n          setPersons(\r\n            persons.map((person) =>\r\n              person.id !== newContact.id ? person : newContact\r\n            )\r\n          )\r\n        })\r\n        .catch((error) => {\r\n          setNotification({ type: 1, message: contact.name })\r\n          console.error(error)\r\n        })\r\n    } else {\r\n      const newContact = {\r\n        name: newName,\r\n        number: newNumber\r\n      }\r\n      setNewName(\"\")\r\n      setNewNumber(\"\")\r\n      setNotification({ type: 0, message: newContact.name })\r\n      contactService\r\n        .createContact(newContact)\r\n        .then((newContact) => setPersons(persons.concat(newContact)))\r\n        .catch((error) => {\r\n          setNotification({ type: 1, message: contact.name })\r\n          console.error(error)\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form>\r\n      <div>\r\n        name: <input value={newName} onChange={handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\" onClick={handleClick}>\r\n          add\r\n        </button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Form\r\n","import React, { useEffect } from \"react\"\r\n\r\nconst Notification = (props) => {\r\n  const { notification, setNotification } = props\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setNotification({ type: 0, message: \"\" })\r\n    }, 3000)\r\n  }, [setNotification])\r\n\r\n  if (notification.type === 0) {\r\n    return (\r\n      <div className=\"notification\">{notification.message} Contact added</div>\r\n    )\r\n  } else {\r\n    return (\r\n      <div className=\"error\">{notification.message} is not found on server</div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Notification\r\n","import React, { useState, useEffect } from \"react\"\r\nimport Filter from \"./components/Filter.js\"\r\nimport PhoneList from \"./components/PhoneList.js\"\r\nimport Form from \"./components/Form.js\"\r\nimport Notification from \"./components/Notification.js\"\r\nimport contactService from \"./services/contacts.js\"\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [filter, setFilter] = useState(\"\")\r\n  const [notification, setNotification] = useState({ type: 0, message: \"\" }) // 0 green notification, 1 error\r\n\r\n  useEffect(() => {\r\n    contactService.getAll().then((persons) => setPersons(persons))\r\n  }, [])\r\n\r\n  return (\r\n    <div>\r\n      {notification.message && (\r\n        <Notification\r\n          notification={notification}\r\n          setNotification={setNotification}\r\n        />\r\n      )}\r\n      <h2>Filter</h2>\r\n      <Filter filter={filter} setFilter={setFilter} />\r\n      <h2>Phonebook</h2>\r\n      <Form\r\n        setPersons={setPersons}\r\n        persons={persons}\r\n        setNotification={setNotification}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <ul>\r\n        <PhoneList filter={filter} persons={persons} setPersons={setPersons} />\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.css\"\nimport App from \"./App\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}